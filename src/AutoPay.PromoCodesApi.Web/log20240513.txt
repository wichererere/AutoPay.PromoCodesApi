2024-05-13 01:00:53.289 +02:00 [INF] Registered 6 endpoints in 367 milliseconds.
2024-05-13 01:00:54.039 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2024-05-13 01:00:54.076 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2024-05-13 01:00:54.079 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-05-13 01:00:54.081 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-13 01:00:54.087 +02:00 [INF] Applying migration '20240508215046_Initial'.
2024-05-13 01:00:54.098 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AuditLogs" PRIMARY KEY AUTOINCREMENT,
    "Entity" TEXT NOT NULL,
    "State" TEXT NOT NULL,
    "PrimaryKey" TEXT NULL,
    "OldValues" TEXT NULL,
    "NewValues" TEXT NULL,
    "AffectedColumns" TEXT NULL,
    "CreateOnUtc" TEXT NOT NULL
);
2024-05-13 01:00:54.098 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PromoCodes" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PromoCodes" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Code" TEXT NOT NULL,
    "MaxPossibleDownloads" INTEGER NOT NULL,
    "IsActive" INTEGER NOT NULL
);
2024-05-13 01:00:54.099 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_PromoCodes_Code" ON "PromoCodes" ("Code") WHERE [IsActive] = 1;
2024-05-13 01:00:54.099 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240508215046_Initial', '8.0.4');
2024-05-13 01:00:54.102 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-05-13 01:00:54.205 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "PromoCodes" AS "p")
2024-05-13 01:00:54.224 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Code", "p"."IsActive", "p"."MaxPossibleDownloads", "p"."Name"
FROM "PromoCodes" AS "p"
2024-05-13 01:00:54.326 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 18), @p1='?' (DbType = DateTime), @p2='?' (Size = 9), @p3='?' (Size = 2), @p4='?' (Size = 81), @p5='?' (Size = 2), @p6='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("AffectedColumns", "CreateOnUtc", "Entity", "NewValues", "OldValues", "PrimaryKey", "State")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-13 01:00:54.335 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 18), @p1='?' (DbType = DateTime), @p2='?' (Size = 9), @p3='?' (Size = 2), @p4='?' (Size = 80), @p5='?' (Size = 2), @p6='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("AffectedColumns", "CreateOnUtc", "Entity", "NewValues", "OldValues", "PrimaryKey", "State")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-13 01:00:54.336 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 5), @p1='?' (DbType = Boolean), @p2='?' (DbType = UInt32), @p3='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PromoCodes" ("Code", "IsActive", "MaxPossibleDownloads", "Name")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-05-13 01:00:54.336 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 5), @p1='?' (DbType = Boolean), @p2='?' (DbType = UInt32), @p3='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PromoCodes" ("Code", "IsActive", "MaxPossibleDownloads", "Name")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-05-13 01:00:54.544 +02:00 [INF] Now listening on: https://localhost:57679
2024-05-13 01:00:54.544 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-13 01:00:54.544 +02:00 [INF] Hosting environment: Development
2024-05-13 01:00:54.544 +02:00 [INF] Content root path: /Users/wicher/RiderProjects/AutoPay.PromoCodesApi/src/AutoPay.PromoCodesApi.Web
2024-05-13 01:00:56.695 +02:00 [INF] Request starting HTTP/2 GET https://localhost:57679//swagger - null null
2024-05-13 01:00:56.719 +02:00 [INF] Request finished HTTP/2 GET https://localhost:57679//swagger - 302 0 null 25.68ms
2024-05-13 01:00:56.729 +02:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2024-05-13 01:00:56.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 64.597ms
2024-05-13 01:00:56.878 +02:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2024-05-13 01:00:56.885 +02:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-13 01:00:57.150 +02:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 292.7946ms
2024-05-13 01:01:02.704 +02:00 [INF] Request starting HTTP/2 GET https://localhost:57679/PromoCodes - null null
2024-05-13 01:01:02.734 +02:00 [INF] Executing endpoint 'HTTP: GET /PromoCodes'
2024-05-13 01:01:02.770 +02:00 [INF] Handling ListPromoCodesQuery
2024-05-13 01:01:02.809 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, Name, Code, MaxPossibleDownloads, IsActive FROM PromoCodes
2024-05-13 01:01:02.814 +02:00 [INF] Handled ListPromoCodesQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[AutoPay.PromoCodesApi.UseCases.PromoCodes.PromoCodeDTO]] in 43 ms
2024-05-13 01:01:02.823 +02:00 [INF] Executed endpoint 'HTTP: GET /PromoCodes'
2024-05-13 01:01:02.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:57679/PromoCodes - 200 null application/json 121.8625ms
